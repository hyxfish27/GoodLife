"use strict";(self["webpackChunkgood_life"]=self["webpackChunkgood_life"]||[]).push([[10],{3451:(t,e,a)=>{a.d(e,{Z:()=>u});var s=a(3396),i=a(7139),n={class:"header text-white text-center d-flex justify-content-center align-items-center"},c={class:"h1 px-5 py-3 my-0 text-white border border-white border-3 bg-secondary bg-opacity-25"};function o(t,e,a,o,r,l){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("p",c,(0,i.zw)(a.title),1)])}const r={props:["title"]};var l=a(89);const d=(0,l.Z)(r,[["render",o]]),u=d},6147:(t,e,a)=>{a.d(e,{Z:()=>h});var s=a(3396);const i=a.p+"img/loader.bf1579b8.svg";var n={key:0,class:"loader",id:"loader"},c=(0,s._)("img",{src:i,alt:"loading..."},null,-1),o=[c];function r(t,e,a,i,c,r){return t.isReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",n,o))}const l={props:["is-ready"]};var d=a(89);const u=(0,d.Z)(l,[["render",r]]),h=u},9533:(t,e,a)=>{a.r(e),a.d(e,{default:()=>J});a(2222);var s=a(3396),i=a(9242),n=a(7139),c={class:"container"},o={key:0},r={class:"text-end my-3"},l=["disabled"],d={class:"table align-middle text-center border-secondary"},u=(0,s._)("thead",{class:"bg-secondary text-dark border-bottom border-secondary"},[(0,s._)("tr",null,[(0,s._)("th"),(0,s._)("th",{style:{width:"180px"}}),(0,s._)("th",{style:{width:"150px"}},"品名"),(0,s._)("th",{style:{width:"150px"}},"數量/單位"),(0,s._)("th",null,"單價")])],-1),h=["disabled","onClick"],p={class:"fas fa-spinner fa-pulse"},m=(0,s._)("i",{class:"bi bi-trash"},null,-1),g=["onClick"],y={key:0,class:"text-success"},b={class:"input-group input-group-sm"},f={class:"input-group mb-3"},_=["onUpdate:modelValue","disabled","onChange"],v=["value"],w={class:"input-group-text bg-secondary border border-primary text-dark",id:"basic-addon2"},x={class:"text-end"},k={class:"row justify-content-center"},C={key:0,class:"col-md-6"},j={class:"col-md-6 text-center"},z={key:0,class:"text-success"},D=(0,s._)("td",{colspan:"4",class:"text-end"},"總計",-1),L={class:"text-end"},R={key:0},q=(0,s._)("td",{colspan:"4",class:"text-end text-success"},"折扣價",-1),$={class:"text-end text-success"},H=(0,s.uE)('<div class="container bg-secondary mb-4"><div class="row justify-content-center align-items-center"><p class="h4 col-12 text-white bg-primary py-3">大大大優惠!!</p><p class="h5 col-12 py-3 text-dark"> 輸入折扣碼 <strong class="text-white bg-success p-1 rounded-2">big777</strong> 即可享有77折優惠 </p></div></div>',1),U={class:"row justify-content-end input-group mx-0"},Z={class:"text-end my-4"},A=(0,s._)("span",{class:"h5"},"前往填寫訂購資料",-1),I=(0,s._)("i",{class:"bi bi-arrow-right-circle-fill ms-1 h4"},null,-1),M={key:1,class:"row justify-content-center py-5 text-center"},W=(0,s._)("div",{class:"col-12"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",fill:"currentColor",class:"bi bi-cart-x text-secondary",viewBox:"0 0 16 16"},[(0,s._)("path",{d:"M7.354 5.646a.5.5 0 1 0-.708.708L7.793 7.5 6.646 8.646a.5.5 0 1 0 .708.708L8.5 8.207l1.146 1.147a.5.5 0 0 0 .708-.708L9.207 7.5l1.147-1.146a.5.5 0 0 0-.708-.708L8.5 6.793 7.354 5.646z"}),(0,s._)("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})])],-1),V={class:"col-12"},Y=(0,s._)("h4",{class:"my-3 h4 text-dark"},"購物車內空空如也，去買點喜歡的東西吧",-1),K=(0,s._)("button",{type:"button",class:"btn btn-primary h4",style:{width:"9rem"}},[(0,s.Uk)(" 前往選購"),(0,s._)("i",{class:"bi bi-arrow-right-circle-fill ms-2 h4"})],-1);function P(t,e,a,P,B,E){var F=this,N=(0,s.up)("Loading"),G=(0,s.up)("HeaderPic"),J=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(N,{"is-ready":B.isReady},null,8,["is-ready"]),(0,s.Wm)(G,{title:B.title},null,8,["title"]),(0,s._)("div",c,[B.cartLength>0?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",r,[(0,s._)("button",{class:"btn btn-outline-primary",disabled:""!==B.isLoading,type:"button",onClick:e[0]||(e[0]=function(){return E.clearAllCart&&E.clearAllCart.apply(E,arguments)})}," 清空購物車 ",8,l)]),(0,s._)("table",d,[u,(0,s._)("tbody",null,[B.cartData.carts?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(B.cartData.carts,(function(e){return(0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,[(0,s._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",disabled:B.isLoading===e.id,onClick:function(t){return E.removeCartItem(e.id)}},[(0,s.wy)((0,s._)("i",p,null,512),[[i.F8,B.isLoading===e.id]]),m],8,h)]),(0,s._)("td",{onClick:function(t){return F.$router.push("/product/".concat(e.product.id))}},[(0,s._)("div",{style:(0,n.j5)([{backgroundImage:"url(".concat(e.product.imageUrl,")")},{height:"120px","background-size":"cover","background-position":"center",cursor:"pointer"}])},null,4)],8,g),(0,s._)("td",null,[(0,s.Uk)((0,n.zw)(e.product.title)+" ",1),e.final_total!==e.total?((0,s.wg)(),(0,s.iD)("div",y," 已套用優惠券 ")):(0,s.kq)("",!0)]),(0,s._)("td",null,[(0,s._)("div",b,[(0,s._)("div",f,[(0,s.wy)((0,s._)("select",{id:"cartNum",class:"form-select border border-primary","onUpdate:modelValue":function(t){return e.qty=t},disabled:B.isLoading===e.id,onChange:function(t){return E.updateCartItem(e)}},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(20,(function(t){return(0,s._)("option",{value:t,key:"".concat(t).concat(e.id)},(0,n.zw)(t),9,v)})),64))],40,_),[[i.bM,e.qty]]),(0,s._)("span",w,(0,n.zw)(e.product.unit),1)])])]),(0,s._)("td",x,[(0,s._)("div",k,[e.final_total!==e.total?((0,s.wg)(),(0,s.iD)("div",C,[(0,s._)("del",null,"原價 : "+(0,n.zw)(e.total),1)])):(0,s.kq)("",!0),(0,s._)("div",j,[e.final_total!==e.total?((0,s.wg)(),(0,s.iD)("small",z,"折扣價：")):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,n.zw)(t.$filters.currency(e.final_total)),1)])])])])})),128)):(0,s.kq)("",!0)]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[D,(0,s._)("td",L,(0,n.zw)(t.$filters.currency(B.cartData.total)),1)]),B.cartData.final_total!==B.cartData.total?((0,s.wg)(),(0,s.iD)("tr",R,[q,(0,s._)("td",$,(0,n.zw)(t.$filters.currency(B.cartData.final_total)),1)])):(0,s.kq)("",!0)])]),H,(0,s._)("div",U,[(0,s.wy)((0,s._)("input",{type:"text",class:"col-12 col-md-6 border border-primary",placeholder:"請輸入優惠碼",id:"codeInput","onUpdate:modelValue":e[1]||(e[1]=function(t){return B.code=t})},null,512),[[i.nr,B.code]]),(0,s._)("button",{type:"button",class:"col-12 col-md-3 btn btn-primary mx-0",onClick:e[2]||(e[2]=function(){return E.useCoupon&&E.useCoupon.apply(E,arguments)})}," 使用折扣碼 ")]),(0,s._)("div",Z,[(0,s.Wm)(J,{class:"btn btn-success h4",to:"/order"},{default:(0,s.w5)((function(){return[A,I]})),_:1})])])):((0,s.wg)(),(0,s.iD)("div",M,[W,(0,s._)("div",V,[Y,(0,s.Wm)(J,{to:"/products"},{default:(0,s.w5)((function(){return[K]})),_:1})])]))])],64)}var B=a(3451),E=a(6147);const F={data:function(){return{title:"購買清單",code:"",isLoading:"",isReady:!1,qty:1,cartData:{},cartLength:0}},components:{HeaderPic:B.Z,Loading:E.Z},inject:["emitter"],methods:{getCart:function(){var t=this;this.isReady=!1;var e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/cart");this.$http.get(e).then((function(e){t.cartData=e.data.data,t.cartLength=t.cartData.carts.length,t.isReady=!0}))["catch"]((function(e){t.emitter.emit("push-message",{style:"danger",title:e.response.data.message,emoji:"".concat("emoji-dizzy")})}))},updateCartItem:function(t){var e=this;this.isReady=!1;var a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/cart/").concat(t.id),s={product_id:t.id,qty:t.qty};this.$http.put(a,{data:s}).then((function(t){e.emitter.emit("push-message",{style:"success",title:t.data.message,emoji:"".concat("emoji-laughing")}),e.getCart(),e.isReady=!0}))["catch"]((function(t){e.emitter.emit("push-message",{style:"danger",title:t.response.data.message,emoji:"".concat("emoji-dizzy")})}))},removeCartItem:function(t){var e=this;this.isReady=!1;var a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/cart/").concat(t);this.isLoading=t,this.$http["delete"](a).then((function(t){e.emitter.emit("push-message",{style:"success",title:t.data.message,emoji:"".concat("emoji-laughing")}),e.getCart(),e.isLoading="",e.isReady=!0}))["catch"]((function(t){e.emitter.emit("push-message",{style:"danger",title:t.response.data.message,emoji:"".concat("emoji-dizzy")}),e.isReady=!0}))},clearAllCart:function(){var t=this;this.isReady=!1;var e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/carts");this.isLoading="clear",this.$http["delete"](e).then((function(e){t.emitter.emit("push-message",{style:"success",title:e.data.message,emoji:"".concat("emoji-laughing")}),t.getCart(),t.isLoading="",t.isReady=!0}))["catch"]((function(e){t.emitter.emit("push-message",{style:"danger",title:e.response.data.message,emoji:"".concat("emoji-dizzy")}),t.isReady=!0}))},useCoupon:function(){var t=this;this.isReady=!1;var e=this.code,a="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/coupon");this.$http.post(a,{data:{code:e}}).then((function(e){t.emitter.emit("push-message",{style:"success",title:e.data.message,emoji:"".concat("emoji-laughing")}),t.getCart(),t.isReady=!0}))["catch"]((function(e){t.emitter.emit("push-message",{style:"danger",title:e.response.data.message,emoji:"".concat("emoji-dizzy")}),t.isReady=!0}))}},mounted:function(){this.getCart()}};var N=a(89);const G=(0,N.Z)(F,[["render",P]]),J=G}}]);
//# sourceMappingURL=10.ddc4548a.js.map