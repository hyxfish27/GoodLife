"use strict";(self["webpackChunkgood_life"]=self["webpackChunkgood_life"]||[]).push([[523],{3451:(t,e,r)=>{r.d(e,{Z:()=>u});var s=r(3396),n=r(7139),l={class:"header text-white text-center d-flex justify-content-center align-items-center"},i={class:"h1 px-5 py-3 my-0 text-white border border-white border-3 bg-secondary bg-opacity-25"};function a(t,e,r,a,d,c){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("p",i,(0,n.zw)(r.title),1)])}const d={props:["title"]};var c=r(89);const o=(0,c.Z)(d,[["render",a]]),u=o},6147:(t,e,r)=>{r.d(e,{Z:()=>h});var s=r(3396);const n=r.p+"img/loader.bf1579b8.svg";var l={key:0,class:"loader",id:"loader"},i=(0,s._)("img",{src:n,alt:"loading..."},null,-1),a=[i];function d(t,e,r,n,i,d){return t.isReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",l,a))}const c={props:["is-ready"]};var o=r(89);const u=(0,o.Z)(c,[["render",d]]),h=u},8543:(t,e,r)=>{r.r(e),r.d(e,{default:()=>q});r(8309);var s=r(3396),n=r(9242),l=r(7139),i={class:"my-5 row justify-content-center mx-0"},a=(0,s._)("p",{class:"h3 text-center my-4"},[(0,s._)("span",{class:"text-dark bg-secondary"},"訂單明細")],-1),d={class:"table align-middle"},c=(0,s._)("thead",null,[(0,s._)("th",null,"品名"),(0,s._)("th",null,"數量"),(0,s._)("th",null,"單價")],-1),o={class:"text-end"},u=(0,s._)("td",{colspan:"2",class:"text-end"},"總計",-1),h={class:"text-end"},p=(0,s._)("p",{class:"h3 text-center my-4"},[(0,s._)("span",{class:"text-dark bg-secondary"},"顧客資料")],-1),_={class:"table"},y=(0,s._)("th",{width:"100"},"Email",-1),m=(0,s._)("th",null,"姓名",-1),g=(0,s._)("th",null,"收件人電話",-1),f=(0,s._)("th",null,"收件人地址",-1),w=(0,s._)("th",null,"付款狀態",-1),b={key:0},v={key:1,class:"text-success"},x={key:0,class:"text-end"},k=(0,s._)("button",{class:"btn btn-success"},[(0,s.Uk)(" 沒問題，去結帳 "),(0,s._)("i",{class:"bi bi-arrow-right-circle-fill ms-1 h5"})],-1),z=[k],D={key:1,class:"text-end"},R=(0,s._)("span",{class:"h6"},"繼續逛逛",-1),j=(0,s._)("i",{class:"bi bi-arrow-right-circle-fill ms-1 h5"},null,-1);function Z(t,e,r,k,Z,O){var $=(0,s.up)("Loading"),H=(0,s.up)("HeaderPic"),I=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)($,{"is-ready":Z.isReady},null,8,["is-ready"]),(0,s.Wm)(H,{title:Z.title},null,8,["title"]),(0,s._)("div",i,[(0,s._)("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=(0,n.iM)((function(){return O.payOrder&&O.payOrder.apply(O,arguments)}),["prevent"]))},[a,(0,s._)("table",d,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Z.order.products,(function(e){return(0,s.wg)(),(0,s.iD)("tr",{key:e.id},[(0,s._)("td",null,(0,l.zw)(e.product.title),1),(0,s._)("td",null,(0,l.zw)(e.qty)+"/"+(0,l.zw)(e.product.unit),1),(0,s._)("td",o,(0,l.zw)(t.$filters.currency(e.final_total)),1)])})),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",null,[u,(0,s._)("td",h,(0,l.zw)(t.$filters.currency(Z.order.total)),1)])])]),p,(0,s._)("table",_,[(0,s._)("tbody",null,[(0,s._)("tr",null,[y,(0,s._)("td",null,(0,l.zw)(Z.order.user.email),1)]),(0,s._)("tr",null,[m,(0,s._)("td",null,(0,l.zw)(Z.order.user.name),1)]),(0,s._)("tr",null,[g,(0,s._)("td",null,(0,l.zw)(Z.order.user.tel),1)]),(0,s._)("tr",null,[f,(0,s._)("td",null,(0,l.zw)(Z.order.user.address),1)]),(0,s._)("tr",null,[w,(0,s._)("td",null,[Z.order.is_paid?((0,s.wg)(),(0,s.iD)("span",v,"付款完成")):((0,s.wg)(),(0,s.iD)("span",b,"尚未付款"))])])])]),!1===Z.order.is_paid?((0,s.wg)(),(0,s.iD)("div",x,z)):((0,s.wg)(),(0,s.iD)("div",D,[(0,s.Wm)(I,{class:"btn btn-primary text-white",to:"/products"},{default:(0,s.w5)((function(){return[R,j]})),_:1})]))],32)])],64)}r(2222);var O=r(6147),$=r(3451);const H={data:function(){return{title:"訂購完成",order:{user:{},products:{}},orderId:"",isReady:!1}},components:{Loading:O.Z,HeaderPic:$.Z},inject:["emitter"],methods:{getOrder:function(){var t=this;this.isReady=!1;var e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/order/").concat(this.orderId);this.$http.get(e).then((function(e){t.order=e.data.order,t.isReady=!0}))["catch"]((function(){t.isReady=!0}))},payOrder:function(){var t=this;this.isReady=!1;var e="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/pay/").concat(this.orderId);this.$http.post(e).then((function(e){t.emitter.emit("push-message",{style:"success",title:e.data.message,emoji:"".concat("emoji-laughing")}),t.isReady=!0,t.getOrder()}))["catch"]((function(e){t.isReady=!0,t.emitter.emit("push-message",{style:"danger",title:e.response.data.message,emoji:"".concat("emoji-dizzy")})}))}},mounted:function(){this.orderId=this.$route.params.id,this.getOrder()}};var I=r(89);const W=(0,I.Z)(H,[["render",Z]]),q=W}}]);
//# sourceMappingURL=523.1a13ee55.js.map