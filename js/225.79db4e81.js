"use strict";(self["webpackChunkgood_life"]=self["webpackChunkgood_life"]||[]).push([[225],{3451:(t,e,i)=>{i.d(e,{Z:()=>u});var r=i(3396),a=i(7139),s={class:"header text-white text-center d-flex justify-content-center align-items-center"},o={class:"h1 px-5 py-3 my-0 text-white border border-white border-3 bg-secondary bg-opacity-25"};function n(t,e,i,n,c,l){return(0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("p",o,(0,a.zw)(i.title),1)])}const c={props:["title"]};var l=i(89);const d=(0,l.Z)(c,[["render",n]]),u=d},6147:(t,e,i)=>{i.d(e,{Z:()=>g});var r=i(3396);const a=i.p+"img/loader.bf1579b8.svg";var s={key:0,class:"loader",id:"loader"},o=(0,r._)("img",{src:a,alt:"loading..."},null,-1),n=[o];function c(t,e,i,a,o,c){return t.isReady?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",s,n))}const l={props:["is-ready"]};var d=i(89);const u=(0,d.Z)(l,[["render",c]]),g=u},5969:(t,e,i)=>{i.d(e,{Z:()=>v});var r=i(3396),a=i(7139),s=i(9242),o={"aria-label":"Page navigation example"},n={class:"pagination justify-content-center"},c=(0,r._)("span",{"aria-hidden":"true"},"«",-1),l=[c],d={key:0,class:"page-link"},u=["onClick"],g=(0,r._)("span",{"aria-hidden":"true"},"»",-1),p=[g];function m(t,e,i,c,g,m){return(0,r.wg)(),(0,r.iD)("nav",o,[(0,r._)("ul",n,[(0,r._)("li",{class:(0,a.C_)([{disabled:!i.pages.has_pre},"page-item"])},[(0,r._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,s.iM)((function(t){return m.updatePage(i.pages.current_page-1)}),["prevent"]))},l)],2),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.pages.total_pages,(function(t){return(0,r.wg)(),(0,r.iD)("li",{class:(0,a.C_)(["page-item",{active:i.pages.current_page===t}]),key:t},[t===i.pages.current_page?((0,r.wg)(),(0,r.iD)("span",d,(0,a.zw)(t),1)):((0,r.wg)(),(0,r.iD)("a",{key:1,class:"page-link",href:"#",onClick:(0,s.iM)((function(e){return m.updatePage(t)}),["prevent"])},(0,a.zw)(t),9,u))],2)})),128)),(0,r._)("li",{class:(0,a.C_)(["page-item",{disabled:!i.pages.has_next}])},[(0,r._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,s.iM)((function(t){return m.updatePage(i.pages.current_page+1)}),["prevent"]))},p)],2)])])}const h={props:["pages"],methods:{updatePage:function(t){this.$emit("emit-pages",t)}}};var b=i(89);const f=(0,b.Z)(h,[["render",m]]),v=f},5928:(t,e,i)=>{i.r(e),i.d(e,{default:()=>U});var r=i(3396),a=i(9242),s=i(7139),o={class:"container bg-secondary rounded-3 my-0 my-md-4"},n={class:"row justify-content-around py-4"},c=(0,r._)("strong",{class:"h5"},"全部商品",-1),l=[c],d=(0,r._)("strong",{class:"h5"},"小資家電",-1),u=[d],g=(0,r._)("strong",{class:"h5"},"質感居家",-1),p=[g],m=(0,r._)("strong",{class:"h5"},"精緻生活",-1),h=[m],b=(0,r._)("strong",{class:"h5"},"療癒小物",-1),f=[b],v={class:"row"},y=["onClick"],_={key:0,class:"text-white bg-success rounded-3 py-1 px-2"},w={class:"card-body"},k={class:"card-title text-primary"},C={class:"row justify-content-center align-items-center"},x={class:"col-12 text-primary h4 mb-3"},j={class:"price"},P={key:0,class:"col-6 mb-3"},M=["onClick"],D=(0,r._)("i",{class:"bi bi-heart-fill h6 me-1 me-md-2"},null,-1),z=(0,r._)("span",{class:"h6"},"加入收藏",-1),Z=[D,z],F={key:1,class:"col-6 mb-3"},R=["onClick"],$=(0,r._)("i",{class:"bi bi-heart-fill h6 me-1 me-md-2"},null,-1),H=(0,r._)("span",{class:"h6"},"移除收藏",-1),I=[$,H],L={class:"col-6 mb-3"},N=["onClick"],S=(0,r._)("i",{class:"bi bi-bag-fill h6 me-1 me-md-2"},null,-1),W=(0,r._)("span",{class:"h6"},"加入購物車",-1),q=[S,W];function O(t,e,i,c,d,g){var m=this,b=(0,r.up)("HeaderPic"),D=(0,r.up)("Loading"),z=(0,r.up)("Pagination"),$=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(b,{title:d.title},null,8,["title"]),(0,r.Wm)(D,{"is-ready":d.isReady},null,8,["is-ready"]),(0,r._)("div",o,[(0,r._)("div",n,[(0,r._)("button",{class:"btn btn-primary col-7 col-md-2 rounded-pill text-white border border-white border-2 mb-3 mb-md-0",onClick:e[0]||(e[0]=(0,a.iM)((function(t){return g.getCategory("")}),["prevent"]))},l),(0,r._)("button",{class:"btn btn-primary col-5 col-md-2 rounded-pill text-white border border-white border-2 mb-3 mb-md-0",onClick:e[1]||(e[1]=(0,a.iM)((function(t){return g.getCategory("小資家電")}),["prevent"]))},u),(0,r._)("button",{class:"btn btn-primary col-4 col-md-2 rounded-pill text-white border border-white border-2 mb-3 mb-md-0",onClick:e[2]||(e[2]=(0,a.iM)((function(t){return g.getCategory("質感居家")}),["prevent"]))},p),(0,r._)("button",{class:"btn btn-primary col-4 col-md-2 rounded-pill text-white border border-white border-2 mb-3 mb-md-0",onClick:e[3]||(e[3]=(0,a.iM)((function(t){return g.getCategory("精緻生活")}),["prevent"]))},h),(0,r._)("button",{class:"btn btn-primary col-4 col-md-2 rounded-pill text-white border border-white border-2 mb-3 mb-md-0",onClick:e[4]||(e[4]=(0,a.iM)((function(t){return g.getCategory("療癒小物")}),["prevent"]))},f)]),(0,r._)("div",v,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.filterCategories,(function(t,e){return(0,r.wg)(),(0,r.iD)("div",{class:"col-12 col-md-6 col-xl-4",key:t.id+e},[(0,r._)("div",{class:"card mb-4 rounded-3 border-primary border-1 shadow-info",style:{cursor:"pointer"},onClick:function(e){return m.$router.push("/product/".concat(t.id))}},[(0,r._)("div",{style:(0,s.j5)([{backgroundImage:"url(".concat(t.imageUrl,")")},{height:"15rem","background-size":"cover","background-position":"center center"}]),class:"p-3"},[t.origin_price!==t.price?((0,r.wg)(),(0,r.iD)("span",_,"特價中")):(0,r.kq)("",!0)],4),(0,r._)("div",w,[(0,r._)("h5",k,(0,s.zw)(t.title),1),(0,r._)("div",C,[(0,r._)("div",x,[(0,r._)("div",j,"NT $"+(0,s.zw)(t.price),1)]),g.toggleFavorBtn(t.id)?((0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("button",{class:"btn btn-success w-100 text-center text-white text-nowrap",onClick:(0,a.iM)((function(e){return g.toggleFavorites(t.id)}),["stop"])},I,8,R)])):((0,r.wg)(),(0,r.iD)("div",P,[(0,r._)("button",{class:"btn btn-primary w-100 text-center text-white text-nowrap",onClick:(0,a.iM)((function(e){return g.toggleFavorites(t.id)}),["stop"])},Z,8,M)])),(0,r._)("div",L,[(0,r._)("button",{class:"btn btn-primary w-100 text-center text-white text-nowrap",onClick:(0,a.iM)((function(e){return g.addToCart(t.id)}),["stop"])},q,8,N)])])])],8,y)])})),128))]),(0,r.Wm)(z,{pages:d.pagination,onEmitPages:g.getProducts},null,8,["pages","onEmitPages"])]),(0,r.Wm)($)],64)}i(2772),i(561),i(8862),i(6699),i(2023),i(2222),i(7327),i(1539);var T=i(3451),Y=i(5969),B=i(6147);const E={data:function(){return{title:"商品總覽",products:[],productId:"",categories:["小資家電","質感居家","精緻生活","療癒小物"],filterCategory:"",isLoading:"",isReady:"",pagination:{},favorites:[]}},components:{HeaderPic:T.Z,Pagination:Y.Z,Loading:B.Z},inject:["emitter"],methods:{getCategory:function(t){this.filterCategory=t,console.log(t)},getFavorites:function(){this.favorites=JSON.parse(localStorage.getItem("favorites")),null==this.favorites&&(this.favorites=[])},toggleFavorites:function(t){this.getFavorites();var e=this.favorites.indexOf(t);-1===e?(this.favorites.push(t),this.emitter.emit("push-message",{style:"success",title:"收藏成功",emoji:"".concat("emoji-heart-eyes")})):(this.favorites.splice(e,1),this.emitter.emit("push-message",{style:"dark",title:"移除收藏",emoji:"".concat("emoji-dizzy")})),localStorage.setItem("favorites",JSON.stringify(this.favorites))},toggleFavorBtn:function(t){var e=this.favorites.includes(t);return e},getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isReady=!1;var i="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/products?page=").concat(e);this.$http.get(i).then((function(e){t.products=e.data.products,t.pagination=e.data.pagination;var i=t.$route.params.categoryName;i&&(t.filterCategory=i),t.isReady=!0}))["catch"]((function(e){t.emitter.emit("push-message",{style:"danger",title:e.response.data.message,emoji:"".concat("emoji-dizzy")})}))},addToCart:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isReady=!1;var r="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("hyxfish27","/cart");this.isLoading=t;var a={product_id:t,qty:i};this.$http.post(r,{data:a}).then((function(t){e.emitter.emit("push-message",{style:"success",title:t.data.message,emoji:"".concat("emoji-heart-eyes")}),e.isLoading="",e.isReady=!0}))["catch"]((function(t){e.emitter.emit("push-message",{style:"danger",title:t.response.data.message,emoji:"".concat("emoji-dizzy")}),e.isReady=!0}))},openProductModal:function(t){this.productId=t,this.$refs.productModal.openModal()}},computed:{filterCategories:function(){var t=this;return this.filterCategory?this.products.filter((function(e){var i=e.category.includes(t.filterCategory);return i})):this.products}},mounted:function(){this.getProducts(),this.getFavorites()}};var J=i(89);const K=(0,J.Z)(E,[["render",O]]),U=K}}]);
//# sourceMappingURL=225.79db4e81.js.map